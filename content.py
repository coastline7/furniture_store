"""
Категории и реальные статьи.
"""

import datetime
from textwrap import dedent

# --- Категории ---
CATEGORIES = [
    {"key": "design",    "name": "Дизайн интерьеров"},
    {"key": "materials", "name": "Материалы"},
    {"key": "trends",    "name": "Тренды"},
]

# --- Статьи ---
ARTICLES = [
    # ---------- DESIGN ----------
    {
        "id": "design_1",
        "title": "Пять приёмов зонирования уютной гостиной",
        "category": "design",
        "image": "blog_images/livingroom.jpg",
        "date": datetime.date(2025, 5, 2),
        "body": dedent(
            """
            ### Почему важно делить пространство

            Открытая планировка — тренд последних лет, но именно *зонирование* помогает гостиной
            оставаться и местом отдыха, и точкой притяжения гостей.

            1. **Ковёр-остров.** Большой ковёр отделяет «мягкую группу» от столовой.
            2. **Напольные торшеры.** Тёплый свет акцентирует зону чтения.
            3. **Стеллаж-перегородка.** Хранит книги и создаёт визуальную границу.
            4. **Контрастное покрытие пола.** Плитка у кухни ↔ паркет в зоне отдыха.
            5. **Мобильные ширмы.** Лёгкий способ скрыть детский уголок.

            > Совет дизайнера: используйте максимум *два* доминирующих материала,
            > чтобы интерьер выглядел цельным.
            """
        ),
    },
    {
        "id": "design_2",
        "title": "Сканди-минимализм: как избежать ощущения «офиса»",
        "category": "design",
        "image": "blog_images/scandi.jpg",
        "date": datetime.date(2025, 4, 25),
        "body": dedent(
            """
            Белые стены + чёрные линии — хорошая база, но без тёплого текстиля
            жильё быстро становится скучным. Добавьте шерстяной плед,
            фактурные вазы ручной работы и хотя бы одно винтажное кресло —
            так вы сохраните чистоту стиля и избавитесь от холодности.
            """
        ),
    },
    {
        "id": "design_3",
        "title": "Цвет года 2025 по Pantone в гостиной",
        "category": "design",
        "image": "blog_images/pantone2025.jpg",
        "date": datetime.date(2025, 3, 15),
        "body": "Оттенок **Future Dusk** легко поддержать бархатными подушками и керамикой глубокого синего цвета.",
    },
    {
        "id": "design_4",
        "title": "Лофт в маленькой квартире: миссия выполнима",
        "category": "design",
        "image": "blog_images/loft.jpg",
        "date": datetime.date(2025, 2, 10),
        "body": "Используем кирпичные панели, рейлинги из чёрного металла и спрятанную систему хранения.",
    },
    {
        "id": "design_5",
        "title": "Гид по декоративному свету: где нужен трек, а где — бра",
        "category": "design",
        "image": "blog_images/light.jpg",
        "date": datetime.date(2025, 1, 28),
        "body": "Рассказываем, как обеспечить 300-400 лм на рабочей поверхности и не ослепнуть.",
    },
    # ---------- MATERIALS ----------
    {
        "id": "materials_1",
        "title": "Экологичные материалы для спальни: что выбрать?",
        "category": "materials",
        "image": "blog_images/eco.jpg",
        "date": datetime.date(2025, 5, 5),
        "body": dedent(
            """
            Натуральный латекс, древесина с сертификатом **FSC** и краски без ЛОС —
            главные друзья здорового сна. Особое внимание уделите текстилю:
            органический хлопок регулирует температуру лучше синтетики.
            """
        ),
    },
    {
        "id": "materials_2",
        "title": "HPL или шпонированный МДФ: что долговечнее?",
        "category": "materials",
        "image": "blog_images/hpl.jpg",
        "date": datetime.date(2025, 4, 11),
        "body": "HPL-пластик устойчив к царапинам, но шпонированный МДФ даёт «тёплое» ощущение дерева.",
    },
    {
        "id": "materials_3",
        "title": "Ткань AquaClean: тест пятнами кофе",
        "category": "materials",
        "image": "blog_images/aquaclean.jpg",
        "date": datetime.date(2025, 3, 30),
        "body": "Сняли видео-эксперимент и убедились: пятно действительно уходит влажной салфеткой.",
    },
    {
        "id": "materials_4",
        "title": "Бетонная столешница: плюсы и минусы",
        "category": "materials",
        "image": "blog_images/concrete.jpg",
        "date": datetime.date(2025, 2, 20),
        "body": "Поры приходится герметизировать каждые 2-3 года, но за текстуру дизайнеры готовы простить всё.",
    },
    {
        "id": "materials_5",
        "title": "Ротанг возвращается: тренды летних террас",
        "category": "materials",
        "image": "blog_images/rattan.jpg",
        "date": datetime.date(2025, 1, 5),
        "body": "Комбинируем натуральный ротанг с матовым металлом — получаем современный ретро-шик.",
    },
    # ---------- TRENDS ----------
    {
        "id": "trends_1",
        "title": "Топ-5 трендов мебельного дизайна 2025 года",
        "category": "trends",
        "image": "blog_images/trends2025.jpg",
        "date": datetime.date(2025, 5, 7),
        "body": "Органические формы, модульность, smart-фурнитура, нео-ар-деко и апсайкл-винтаж — разберём каждый пункт.",
    },
    {
        "id": "trends_2",
        "title": "Модульные диваны: зачем платить за секции?",
        "category": "trends",
        "image": "blog_images/modular.jpg",
        "date": datetime.date(2025, 4, 18),
        "body": "Даём формулы расчёта: угол + пуф = экономия 15 % площади.",
    },
    {
        "id": "trends_3",
        "title": "AR-примерочные для мебели: обзор топ-3 приложений",
        "category": "trends",
        "image": "blog_images/ar.jpg",
        "date": datetime.date(2025, 3, 8),
        "body": "Проверяем IKEA Place, Wayfair View и российский WoodLook.",
    },
    {
        "id": "trends_4",
        "title": "Био-пластик в корпусной мебели: миф или будущее?",
        "category": "trends",
        "image": "blog_images/bioplastic.jpg",
        "date": datetime.date(2025, 2, 14),
        "body": "PLA-панели выдерживают 60 °C. Что с долговечностью — тестируем.",
    },
    {
        "id": "trends_5",
        "title": "Циркулярная экономика: как бренды дают мебели вторую жизнь",
        "category": "trends",
        "image": "blog_images/circular.jpg",
        "date": datetime.date(2025, 1, 22),
        "body": "Программа buy-back позволяет вернуть до 30 % стоимости старой модели при покупке новой.",
    },
]


# ----------------- API -----------------
def get_articles_by_category(cat_key):
    return [a for a in ARTICLES if a["category"] == cat_key]


def latest(n=6):
    return sorted(ARTICLES, key=lambda a: a["date"], reverse=True)[:n]
